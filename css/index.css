:root{--bg-deep:#0a0a0c;--bg-surface:#12121a;--text-primary:#e8e4df;--text-muted:#6b6b7b;--text-ghost:#3a3a4a;--accent-memory:#c4a882;--accent-interpretation:#7b8fa8;--accent-live:#a87b7b;--accent-fear:#4A90D9;--accent-sadness:#5A7A9A;--accent-guilt:#8B7355;--accent-anger:#D94A4A;--accent-longing:#C4A882;--accent-isolation:#4A4A5A;--accent-numbness:#6A6A6A;--accent-moralPain:#9B59B6;--accent-connected:#7a9a7a}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Noto Serif KR',serif;background:var(--bg-deep);color:var(--text-primary);min-height:100vh;display:flex;flex-direction:column}body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");opacity:.03;pointer-events:none;z-index:9999}.container{max-width:1600px;margin:0 auto;padding:2rem 3rem;flex:1}.opening-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg-deep);z-index:3000;display:flex;justify-content:center;align-items:center;flex-direction:column;transition:opacity 1.5s ease-out,visibility 1.5s;cursor:pointer}.opening-screen.hidden{opacity:0;visibility:hidden;pointer-events:none;display:none;z-index:-1}.opening-wave-container{width:100%;height:200px;position:relative;margin-bottom:1rem;margin-top:-200px;transform:scale(0.3);opacity:0.4;transition:transform 0.8s ease-out,opacity 0.8s ease;background:var(--bg-deep)}.opening-wave-container.visible{opacity:1}.opening-wave-canvas{width:100%;height:100%;background:var(--bg-deep)}.opening-dialogue{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:rgba(255,255,200,0.7);font-family:'Noto Serif KR',serif;font-size:1.3rem;line-height:2;text-align:center;max-width:600px;padding:0 2rem;white-space:pre-wrap}.opening-dialogue.typing::after{content:'|';animation:blink 1s infinite;color:rgba(255,255,200,0.8)}.opening-start-hint{color:rgba(255,255,255,0.4);font-family:'Cormorant Garamond',serif;font-size:0.85rem;letter-spacing:0.2em;opacity:0;transition:opacity 1s ease-in;position:absolute;top:58%;left:50%;transform:translateX(-50%)}.opening-start-hint.visible{opacity:1}.intro-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg-deep);z-index:2000;display:flex;justify-content:center;align-items:center;transition:opacity 1s,visibility 1s;opacity:0}.intro-screen.hidden{opacity:0;visibility:hidden;pointer-events:none;display:none}.intro-screen.visible{opacity:1;visibility:visible;display:flex}.intro-top-buttons{position:fixed;top:2rem;right:2rem;display:flex;flex-direction:column;gap:.8rem;z-index:2010}.mypage-btn,.portfolio-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:.6rem 1.5rem;font-family:'Cormorant Garamond',serif;font-size:.9rem;cursor:pointer;letter-spacing:.15em;transition:all .3s;pointer-events:auto;width:100%}.mypage-btn:hover,.portfolio-btn:hover{border-color:var(--accent-memory);color:var(--accent-memory)}.login-modal,.signup-modal,.mypage-screen{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg-deep);z-index:2100;justify-content:center;align-items:center;flex-direction:column}.login-modal.active,.signup-modal.active,.mypage-screen.active{display:flex}.login-box,.signup-box,.mypage-box{background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);padding:3rem;text-align:center;max-width:450px;width:90%}.login-title,.signup-title,.mypage-title{font-family:'Cormorant Garamond',serif;font-size:2rem;color:var(--accent-memory);margin-bottom:1.5rem;letter-spacing:.1em}.login-input,.signup-input{width:100%;background:var(--bg-deep);border:1px solid var(--text-ghost);padding:1rem;font-family:'Noto Serif KR',serif;font-size:1rem;color:var(--text-primary);margin-bottom:1.5rem;transition:all .3s}.login-input:focus,.signup-input:focus{outline:none;border-color:var(--accent-memory)}.login-input::placeholder,.signup-input::placeholder{color:var(--text-ghost)}.login-btn,.signup-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:.8rem 2.5rem;font-family:'Cormorant Garamond',serif;font-size:1rem;cursor:pointer;transition:all .3s;pointer-events:auto;z-index:10;margin-right:.5rem}.login-btn:hover,.signup-btn:hover{background:var(--accent-memory);color:var(--bg-deep)}.login-close-btn,.signup-close-btn{background:transparent;border:1px solid var(--text-ghost);color:var(--text-muted);padding:.8rem 2.5rem;font-family:'Cormorant Garamond',serif;font-size:1rem;cursor:pointer;transition:all .3s;pointer-events:auto;z-index:10}.login-close-btn:hover,.signup-close-btn:hover{border-color:var(--text-muted);color:var(--text-primary)}.social-login-divider{display:flex;align-items:center;margin:2rem 0;color:var(--text-ghost);font-size:.85rem}.social-login-divider::before,.social-login-divider::after{content:'';flex:1;height:1px;background:var(--text-ghost);opacity:.3}.social-login-divider span{margin:0 1rem}.social-login-buttons{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.social-btn{display:flex;align-items:center;justify-content:center;gap:.8rem;background:var(--bg-deep);border:1px solid var(--text-ghost);color:var(--text-primary);padding:1rem;font-family:'Noto Serif KR',serif;font-size:.95rem;cursor:pointer;transition:all .3s;pointer-events:auto;z-index:10}.social-btn:hover{border-color:var(--accent-memory);transform:translateY(-2px)}.social-btn.google:hover{border-color:#4285f4}.social-btn.facebook:hover{border-color:#1877f2}.social-btn-icon{font-size:1.2rem}.auth-switch-link{color:var(--text-muted);font-size:.9rem;margin-top:1.5rem;cursor:pointer;transition:color .3s}.auth-switch-link:hover{color:var(--accent-memory)}.mypage-content{text-align:left;margin-top:2rem}.mypage-section{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid rgba(196,168,130,.1)}.mypage-section:last-child{border-bottom:none}.mypage-section-title{font-family:'Cormorant Garamond',serif;font-size:1.3rem;color:var(--accent-memory);margin-bottom:1rem}.mypage-info{font-size:.9rem;color:var(--text-muted);line-height:1.8;margin-bottom:.5rem}.mypage-logout-btn{background:transparent;border:1px solid var(--text-ghost);color:var(--text-muted);padding:.6rem 1.5rem;font-family:'Cormorant Garamond',serif;font-size:.9rem;cursor:pointer;transition:all .3s;pointer-events:auto;z-index:10;margin-top:2rem}.mypage-logout-btn:hover{border-color:var(--accent-memory);color:var(--accent-memory)}.intro-logo{font-family:'Cormorant Garamond',serif;font-size:3rem;font-weight:bold;color:var(--accent-memory);letter-spacing:.3em;margin-bottom:1rem;opacity:0;animation:fadeIn 2s ease-out .3s forwards}.intro-subtitle{font-size:1rem;color:#FFFFF0;letter-spacing:.2em;margin-bottom:2rem;opacity:0;animation:fadeIn 2s ease-out .6s forwards}.intro-buttons{display:flex;justify-content:center;gap:2rem;opacity:0;animation:fadeIn 2s ease-out 1s forwards}.intro-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:1.2rem 3rem;font-family:'Cormorant Garamond',serif;font-size:1.1rem;cursor:pointer;letter-spacing:.15em;transition:all .5s;pointer-events:auto;z-index:10;min-width:200px;width:200px}.intro-btn:hover{border-color:var(--accent-memory);color:var(--accent-memory);background:rgba(196,168,130,.1)}.intro-btn.live-btn{border-color:var(--accent-memory);color:var(--accent-memory)}.intro-btn.live-btn:hover{border-color:var(--accent-memory);color:var(--accent-memory);background:rgba(196,168,130,.1)}.intro-btn-label{display:block;font-size:.7rem;color:#FFFFF0;margin-top:.5rem}.intro-center-wrapper{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;transition:transform 1s ease-out}.intro-center-wrapper.lifted{transform:translateY(-100px)}.npc-intro-dialogue{position:absolute;bottom:25%;left:50%;transform:translateX(-50%);font-family:'Noto Serif KR',serif;font-size:1.3rem;color:rgba(255,255,200,0.7);line-height:2;text-align:center;max-width:600px;padding:0 2rem;white-space:pre-wrap;opacity:0;transition:opacity 0.5s ease}.npc-intro-dialogue.visible{opacity:1}.npc-intro-dialogue.typing::after{content:'|';animation:blink 1s infinite;color:rgba(255,255,200,0.8)}@keyframes fadeIn{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.matching-selection,.mode-selection,.session-setup{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg-deep);z-index:1900;justify-content:center;align-items:center;flex-direction:column}.matching-selection.active,.mode-selection.active,.session-setup.active{display:flex}.mode-title{font-family:'Cormorant Garamond',serif;font-size:2.5rem;color:var(--accent-memory);letter-spacing:.2em;margin-bottom:1rem}.mode-subtitle{font-size:.9rem;color:var(--text-muted);margin-bottom:3rem;text-align:center;max-width:500px;line-height:1.8}.mode-cards{display:flex;gap:3rem}.mode-card{width:280px;padding:2.5rem;background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);cursor:pointer;transition:all .5s;text-align:center;pointer-events:auto;z-index:10}.mode-card:hover{transform:translateY(-10px);border-color:var(--accent-memory);box-shadow:0 20px 40px rgba(0,0,0,.3)}.mode-card.disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.mode-card.disabled:hover{transform:none;border-color:rgba(196,168,130,.2);box-shadow:none}.mode-card-icon{font-size:3rem;margin-bottom:1.5rem;opacity:.7}.mode-card-title{font-family:'Cormorant Garamond',serif;font-size:1.5rem;color:var(--text-primary);margin-bottom:.5rem}.mode-card-desc{font-size:.85rem;color:var(--text-muted);line-height:1.6}.back-btn-simple{margin-top:3rem;background:none;border:none;color:var(--text-ghost);font-family:'Noto Serif KR',serif;font-size:.9rem;cursor:pointer;pointer-events:auto;z-index:10}.session-box{background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);padding:3rem;text-align:center;max-width:450px}.session-title{font-family:'Cormorant Garamond',serif;font-size:1.8rem;color:var(--accent-memory);margin-bottom:1rem}.session-desc{font-size:.9rem;color:var(--text-muted);margin-bottom:2rem;line-height:1.6}.session-code-display{font-family:'Cormorant Garamond',serif;font-size:3rem;color:var(--text-primary);letter-spacing:.3em;padding:1rem 2rem;background:var(--bg-deep);border:1px solid var(--text-ghost);margin-bottom:1.5rem}.session-input{width:100%;background:var(--bg-deep);border:1px solid var(--text-ghost);padding:1rem;font-family:'Cormorant Garamond',serif;font-size:1.5rem;color:var(--text-primary);text-align:center;letter-spacing:.2em;margin-bottom:1.5rem}.session-input:focus{outline:none;border-color:var(--accent-memory)}.session-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:.8rem 2.5rem;font-family:'Cormorant Garamond',serif;font-size:1rem;cursor:pointer;transition:all .3s;pointer-events:auto;z-index:10}.session-btn:hover{background:var(--accent-memory);color:var(--bg-deep)}.session-waiting{display:none;margin-top:2rem;color:var(--text-muted)}.session-waiting.active{display:block}.waiting-dots::after{content:'';animation:dots 1.5s infinite}@keyframes dots{0%,20%{content:'.'}40%{content:'..'}60%,100%{content:'...'}}.live-container,.archive-container{display:none}.live-container.active,.archive-container.active{display:block}.live-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 0;border-bottom:1px solid rgba(196,168,130,.2);margin-bottom:2rem}.live-header-left{display:flex;align-items:center;gap:.8rem}.live-dot-green{width:10px;height:10px;background:#7a9a7a;border-radius:50%;animation:pulse 2s infinite}@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.2)}}.live-text{font-family:'Cormorant Garamond',serif;font-size:1.1rem;color:var(--text-primary);letter-spacing:.1em}.live-exit-btn{background:transparent;border:1px solid var(--text-ghost);color:var(--text-muted);padding:.6rem 1.5rem;font-family:'Cormorant Garamond',serif;font-size:.9rem;cursor:pointer;transition:all .3s;pointer-events:auto;z-index:10;border-radius:4px}.live-exit-btn:hover{border-color:var(--accent-memory);color:var(--accent-memory)}.alignment-section{background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);border-radius:8px;padding:1.5rem 2rem;margin-top:-0.5rem;margin-bottom:2rem;text-align:center}.alignment-label-top{font-size:.85rem;color:var(--text-muted);letter-spacing:.1em;margin-bottom:1rem}.alignment-percentage{font-family:'Cormorant Garamond',serif;font-size:2rem;color:var(--accent-memory);margin-bottom:1.5rem}.alignment-wave-container{width:100%;height:120px;background:var(--bg-deep);border-radius:4px;position:relative;overflow:hidden;margin-top:1rem}.alignment-wave-container canvas{transform:scale(1.3);transform-origin:center center}.alignment-wave-canvas{width:100%;height:100%}.generated-section{background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);border-radius:8px;padding:2rem;margin-bottom:2rem}.generated-section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;border-bottom:1px solid rgba(196,168,130,.2);padding-bottom:.5rem}.generated-tabs{display:flex;gap:1rem}.edit-toggle-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:.4rem 1rem;font-family:'Cormorant Garamond',serif;font-size:.85rem;cursor:pointer;transition:all .3s;border-radius:4px}.edit-toggle-btn:hover,.edit-toggle-btn.active{background:var(--accent-memory);color:var(--bg-deep)}.generated-edit-textarea{width:100%;min-height:120px;background:var(--bg-deep);border:1px solid rgba(196,168,130,.2);padding:1rem;font-family:'Noto Serif KR',serif;font-size:1rem;color:var(--text-primary);line-height:1.8;resize:vertical;margin-top:1rem}.generated-edit-textarea:focus{outline:none;border-color:var(--accent-memory)}.experiencer-status-float{position:fixed;top:50%;transform:translateY(-50%);background:var(--bg-surface);border:1px solid rgba(123,143,168,.3);padding:1rem 1.5rem;font-size:.9rem;color:var(--accent-interpretation);z-index:100;transition:all .5s ease-out;max-width:200px;text-align:center;border-radius:4px}.experiencer-status-float.left{left:2rem;right:auto}.experiencer-status-float.right{right:2rem;left:auto}.confirm-buttons{display:flex;gap:1rem;margin-top:1rem}.confirm-btn{padding:.6rem 1.5rem;font-family:'Cormorant Garamond',serif;cursor:pointer;transition:all .3s;border-radius:4px}.confirm-btn.yes{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory)}.confirm-btn.yes:hover{background:var(--accent-memory);color:var(--bg-deep)}.confirm-btn.no{background:transparent;border:1px solid var(--text-ghost);color:var(--text-muted)}.confirm-btn.no:hover{border-color:var(--text-muted);color:var(--text-primary)}.generated-tab{background:transparent;border:none;border-bottom:2px solid transparent;color:var(--text-muted);padding:.8rem 1.5rem;font-family:'Cormorant Garamond',serif;font-size:.95rem;cursor:pointer;transition:all .3s}.generated-tab.active{color:var(--accent-memory);border-bottom-color:var(--accent-memory)}.generated-content{min-height:150px;padding:1.5rem 0}.generated-text{font-size:1.1rem;line-height:2;color:var(--text-primary)}.interpretation-trace-section{background:rgba(123,143,168,.08);border:1px solid rgba(123,143,168,.2);border-radius:8px;padding:1.5rem;margin-bottom:2rem;max-height:300px;overflow-y:auto}.interpretation-trace-header{font-size:.85rem;color:var(--accent-interpretation);letter-spacing:.1em;margin-bottom:.8rem}.interpretation-trace-status{font-size:.95rem;color:var(--text-muted);font-style:italic}.chat-messages{display:flex;flex-direction:column;gap:1rem;margin-bottom:1rem}.chat-message{display:flex;flex-direction:column;gap:.3rem}.chat-message.user{align-items:flex-end}.chat-message.ai{align-items:flex-start}.chat-message-content{max-width:80%;padding:.8rem 1rem;border-radius:8px;font-size:.95rem;line-height:1.6;word-wrap:break-word}.chat-message.user .chat-message-content{background:rgba(196,168,130,.15);border-left:2px solid var(--accent-memory);color:var(--text-primary);text-align:right}.chat-message.ai .chat-message-content{background:rgba(196,168,130,.1);border-left:2px solid var(--accent-memory);color:var(--text-primary)}.chat-message-label{font-size:.7rem;color:var(--text-ghost);padding:0 .5rem}.text-input-container-live{width:100%}.chat-input-wrapper{display:flex;gap:.5rem;align-items:flex-end}.chat-input-textarea{flex:1;min-height:80px;max-height:150px;background:var(--bg-deep);border:1px solid rgba(196,168,130,.2);padding:1rem;font-family:'Noto Serif KR',serif;font-size:1rem;color:var(--text-primary);line-height:1.8;resize:vertical;border-radius:4px}.chat-input-textarea:focus{outline:none;border-color:var(--accent-memory)}.chat-input-textarea::placeholder{color:var(--text-ghost)}.chat-send-btn{background:var(--accent-memory);border:none;color:var(--bg-deep);padding:.8rem 1.5rem;font-family:'Cormorant Garamond',serif;font-size:.9rem;cursor:pointer;transition:all .3s;border-radius:4px;white-space:nowrap}.chat-send-btn:hover{background:var(--accent-memory)}.chat-send-btn:disabled{opacity:.5;cursor:not-allowed}.voice-input-section{position:sticky;bottom:0;background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);border-radius:8px;padding:1.5rem;display:flex;gap:1.5rem;align-items:center;margin-top:2rem}.voice-wave-section{flex:1;height:150px;background:var(--bg-deep);border-radius:4px;position:relative;overflow:hidden;cursor:pointer;transition:all .3s}.voice-wave-section:hover{background:rgba(18,18,26,0.95)}.voice-wave-canvas-live{width:100%;height:100%}.text-switch-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:.6rem 1.5rem;font-family:'Cormorant Garamond',serif;font-size:.9rem;cursor:pointer;transition:all .3s;white-space:nowrap;border-radius:4px}.text-switch-btn:hover{background:var(--accent-memory);color:var(--bg-deep)}@media(max-width:768px){.live-header{flex-direction:column;gap:1rem;align-items:flex-start}.voice-input-section{flex-direction:column}.text-switch-btn{width:100%}}.live-content{display:grid;grid-template-columns:1fr 350px;gap:3rem;min-height:calc(100vh - 200px)}@media(max-width:1000px){.live-content{grid-template-columns:1fr}}.narrator-panel,.experiencer-panel{display:none}.narrator-panel.active,.experiencer-panel.active{display:block}.narrator-prompt{font-size:.85rem;color:var(--text-ghost);margin-bottom:1rem}.narrator-input{width:100%;min-height:150px;background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);padding:1.5rem;font-family:'Noto Serif KR',serif;font-size:1.1rem;color:var(--text-primary);line-height:1.8;resize:vertical}.narrator-input:focus{outline:none;border-color:var(--accent-memory)}.narrator-emotion-section{margin-top:2rem;padding:1.5rem;background:var(--bg-surface);border:1px solid rgba(196,168,130,.1)}.narrator-emotion-label{font-size:.8rem;color:var(--text-muted);margin-bottom:1rem}.narrator-reason-input{width:100%;background:transparent;border:none;border-bottom:1px solid var(--text-ghost);padding:.5rem 0;font-family:'Noto Serif KR',serif;font-size:.95rem;color:var(--text-primary);margin-top:1rem}.narrator-reason-input:focus{outline:none;border-color:var(--accent-memory)}.narrator-send-btn{margin-top:1.5rem;width:100%;background:var(--accent-memory);border:none;color:var(--bg-deep);padding:1rem;font-family:'Cormorant Garamond',serif;font-size:1.1rem;cursor:pointer;pointer-events:auto;z-index:10}.interpretation-trace{margin-top:2rem;padding:1.5rem;background:rgba(123,143,168,.1);border-left:3px solid var(--accent-interpretation)}.trace-label{font-size:.75rem;color:var(--accent-interpretation);letter-spacing:.1em;margin-bottom:.5rem}.trace-content{font-size:.9rem;color:var(--text-muted);font-style:italic}.memory-trace{margin-top:2rem;padding:1.5rem;background:rgba(123,143,168,.1);border-left:3px solid var(--accent-interpretation)}.scene-text{font-size:1.25rem;line-height:2;color:var(--text-primary);margin-bottom:2rem;position:relative;min-height:100px}.scene-text.typing::after{content:'|';animation:blink 1s infinite}@keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}.echo-layer{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden}.echo-word{position:absolute;font-size:.85rem;opacity:.12;color:var(--accent-interpretation);font-style:italic}.scene-main:hover .echo-word{opacity:.25}.choices-container{margin-top:2rem;position:relative;z-index:10;pointer-events:auto}.choice-btn{display:block;width:100%;text-align:left;background:transparent;border:1px solid rgba(196,168,130,.3);padding:1.2rem 1.5rem;margin-bottom:1rem;font-family:'Noto Serif KR',serif;font-size:1rem;color:var(--text-primary);cursor:pointer;transition:all .4s;position:relative;overflow:hidden;pointer-events:auto;z-index:10}.choice-btn::before{content:'';position:absolute;top:0;left:0;width:0;height:100%;background:rgba(196,168,130,.08);transition:width .4s;pointer-events:none;z-index:-1}.choice-btn:hover{border-color:var(--accent-memory);padding-left:2rem}.choice-btn:hover::before{width:100%}.choice-percentage{position:absolute;right:1.5rem;top:50%;transform:translateY(-50%);font-size:.75rem;color:var(--text-ghost);opacity:0;transition:opacity .3s;pointer-events:none}.choice-btn:hover .choice-percentage{opacity:1}.free-input-container{margin-top:1.5rem}.free-input{width:100%;background:transparent;border:1px solid var(--text-ghost);padding:1rem;font-family:'Noto Serif KR',serif;font-size:1rem;color:var(--text-primary);resize:none}.free-input:focus{outline:none;border-color:var(--accent-memory)}.experiencer-feeling-input-container{margin-top:2rem;margin-bottom:2rem}.experiencer-feeling-input{width:100%;background:var(--bg-surface);border:1px solid rgba(123,143,168,.3);padding:1.5rem;font-family:'Noto Serif KR',serif;font-size:1rem;color:var(--text-primary);resize:vertical;line-height:1.8;min-height:120px}.experiencer-feeling-input:focus{outline:none;border-color:var(--accent-interpretation)}.experiencer-feeling-input::placeholder{color:var(--text-ghost)}.experiencer-submit-btn{margin-top:1rem;width:100%;background:transparent;border:1px solid var(--accent-interpretation);color:var(--accent-interpretation);padding:.8rem 2rem;font-family:'Cormorant Garamond',serif;font-size:1rem;cursor:pointer;transition:all .3s;pointer-events:auto;z-index:10}.experiencer-submit-btn:hover{background:var(--accent-interpretation);color:var(--bg-deep)}.sidebar-section{margin-bottom:2rem}.sidebar-title{font-family:'Cormorant Garamond',serif;font-size:1.1rem;color:var(--text-muted);margin-bottom:1rem;letter-spacing:.1em}.wave-container{height:100px;background:var(--bg-surface);border:1px solid rgba(196,168,130,.1);position:relative;overflow:hidden}.wave-canvas{width:100%;height:100%}.wave-legend{display:flex;justify-content:space-between;margin-top:.5rem;font-size:.7rem;color:var(--text-ghost)}.strata-container{height:180px;background:var(--bg-surface);border:1px solid rgba(196,168,130,.1);position:relative;overflow:hidden}.strata-layer{position:absolute;left:0;width:100%;transition:all .8s}.strata-layer-original{bottom:0;background:linear-gradient(180deg,rgba(196,168,130,.3),rgba(196,168,130,.6))}.strata-layer-interpretation{background:linear-gradient(180deg,rgba(123,143,168,.2),rgba(123,143,168,.4))}.strata-layer-live{background:linear-gradient(180deg,rgba(196,168,130,.2),rgba(196,168,130,.4))}.strata-info{position:absolute;bottom:10px;left:10px;font-size:.7rem;color:rgba(255,255,255,.5)}.progress-tracker{background:var(--bg-surface);border:1px solid rgba(196,168,130,.1);padding:1.5rem}.progress-item{display:flex;justify-content:space-between;align-items:center;padding:.8rem 0;border-bottom:1px solid rgba(255,255,255,.05);font-size:.85rem}.progress-item:last-child{border-bottom:none}.progress-label{color:var(--text-muted)}.progress-value{color:var(--text-primary);font-family:'Cormorant Garamond',serif;font-size:1.1rem}.progress-value.highlight{color:var(--accent-memory)}.alignment-meter{text-align:center;padding:1.5rem;background:var(--bg-surface);border:1px solid rgba(196,168,130,.1)}.alignment-label{font-size:.75rem;color:var(--text-ghost);letter-spacing:.1em;margin-bottom:.5rem}.alignment-value{font-family:'Cormorant Garamond',serif;font-size:2.5rem;color:var(--accent-memory);transition:color .5s}.alignment-value.high{color:var(--accent-connected)}.alignment-bar{margin-top:1rem;height:4px;background:var(--bg-deep);border-radius:2px;overflow:hidden}.alignment-fill{height:100%;background:linear-gradient(90deg,var(--accent-memory),var(--accent-connected));border-radius:2px;transition:width .5s}.alignment-note{font-size:.7rem;color:var(--text-ghost);margin-top:.8rem;font-style:italic}.archive-header{text-align:center;padding:4rem 0;border-bottom:1px solid rgba(196,168,130,.1);margin-bottom:3rem}.archive-title{font-family:'Cormorant Garamond',serif;font-size:3.5rem;font-weight:300;letter-spacing:.3em;color:var(--accent-memory);margin-bottom:1rem;opacity:0;animation:fadeIn 1.5s ease-out forwards}.archive-subtitle{font-size:.9rem;color:var(--text-muted);letter-spacing:.2em;opacity:0;animation:fadeIn 1.5s ease-out .3s forwards}.archive-back-btn{position:fixed;top:2rem;left:2rem;background:none;border:1px solid var(--text-ghost);color:var(--text-muted);padding:.5rem 1rem;font-size:.85rem;cursor:pointer;z-index:100;pointer-events:auto}.archive-controls{max-width:800px;margin:0 auto 3rem;display:flex;flex-direction:column;gap:1.5rem}.archive-search{width:100%;background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);padding:1rem 1.5rem;font-family:'Noto Serif KR',serif;font-size:1rem;color:var(--text-primary);transition:all .3s}.archive-search:focus{outline:none;border-color:var(--accent-memory)}.archive-search::placeholder{color:var(--text-ghost)}.archive-category-filters{display:flex;gap:1rem;justify-content:center;margin-bottom:1rem}.category-btn{background:transparent;border:1px solid rgba(196,168,130,.2);color:var(--text-muted);padding:.6rem 1.5rem;font-family:'Cormorant Garamond',serif;font-size:.9rem;cursor:pointer;letter-spacing:.1em;transition:all .3s;pointer-events:auto}.category-btn:hover{border-color:var(--accent-memory);color:var(--accent-memory)}.category-btn.active{background:var(--accent-memory);border-color:var(--accent-memory);color:var(--bg-deep)}.archive-filters{display:flex;gap:1rem;justify-content:center}.filter-btn{background:transparent;border:1px solid rgba(196,168,130,.2);color:var(--text-muted);padding:.6rem 1.5rem;font-family:'Cormorant Garamond',serif;font-size:.9rem;cursor:pointer;letter-spacing:.1em;transition:all .3s;pointer-events:auto}.filter-btn:hover{border-color:var(--accent-memory);color:var(--accent-memory)}.filter-btn.active{background:var(--accent-memory);border-color:var(--accent-memory);color:var(--bg-deep)}.memory-category-badge{display:inline-block;padding:.2rem .6rem;font-size:.7rem;letter-spacing:.1em;margin-bottom:.5rem;border-radius:2px}.memory-category-badge.live{background:rgba(168,123,123,.2);border:1px solid rgba(168,123,123,.4);color:var(--accent-live)}.memory-category-badge.archive{background:rgba(123,143,168,.2);border:1px solid rgba(123,143,168,.4);color:var(--accent-interpretation)}.memory-list{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:4rem}@media(max-width:768px){.memory-list{grid-template-columns:1fr}}.memory-card.hidden{display:none}.memory-card{background:linear-gradient(145deg,var(--bg-surface),var(--bg-deep));border:1px solid rgba(196,168,130,.1);padding:2rem;cursor:pointer;transition:all .5s;position:relative;overflow:hidden;pointer-events:auto;z-index:10}.memory-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,transparent,var(--accent-memory),transparent);opacity:0;transition:opacity .5s}.memory-card:hover{transform:translateY(-5px);border-color:rgba(196,168,130,.3)}.memory-card:hover::before{opacity:1}.memory-card-title{font-family:'Cormorant Garamond',serif;font-size:1.5rem;color:var(--text-primary);margin-bottom:.5rem}.memory-card-meta{font-size:.75rem;color:var(--text-muted);margin-bottom:1rem}.memory-card-dilution{display:flex;align-items:center;gap:.5rem;font-size:.8rem;color:var(--text-ghost)}.dilution-bar{flex:1;height:4px;background:var(--bg-deep);border-radius:2px;overflow:hidden}.dilution-fill{height:100%;background:linear-gradient(90deg,var(--accent-memory),var(--accent-interpretation));transition:width .5s}.scene-viewer{display:none;opacity:0;transition:opacity .5s}.scene-viewer.active{display:block;opacity:1}.scene-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(196,168,130,.1)}.back-btn{font-family:'Cormorant Garamond',serif;font-size:1rem;color:var(--text-muted);background:none;border:1px solid var(--text-ghost);padding:.5rem 1.5rem;cursor:pointer;pointer-events:auto;z-index:10}.progress-indicator{display:flex;align-items:center;gap:1rem;font-size:.8rem;color:var(--text-muted)}.progress-dots{display:flex;gap:.5rem}.progress-dot{width:8px;height:8px;border-radius:50%;background:var(--text-ghost);cursor:pointer;transition:all .3s;pointer-events:auto;z-index:10}.progress-dot.active{background:var(--accent-memory);box-shadow:0 0 10px var(--accent-memory)}.progress-dot.visited{background:var(--accent-interpretation)}.scene-content{display:grid;grid-template-columns:1fr 350px;gap:3rem;min-height:60vh}@media(max-width:900px){.scene-content{grid-template-columns:1fr}}.scene-main{position:relative}.emotion-dist{margin-bottom:1.5rem}.emotion-dist-title{font-size:.8rem;color:var(--text-muted);margin-bottom:1rem}.emotion-bar{display:flex;align-items:center;margin-bottom:.8rem;font-size:.75rem}.emotion-label{width:60px;color:var(--text-ghost)}.emotion-fill-container{flex:1;height:6px;background:var(--bg-deep);border-radius:3px;overflow:hidden;margin:0 .5rem}.emotion-fill{height:100%;border-radius:3px;transition:width .5s}.emotion-fill.fear{background:var(--accent-fear)}.emotion-fill.sadness{background:var(--accent-sadness)}.emotion-fill.guilt{background:var(--accent-guilt)}.emotion-fill.anger{background:var(--accent-anger)}.emotion-fill.longing{background:var(--accent-longing)}.emotion-fill.isolation{background:var(--accent-isolation)}.emotion-fill.numbness{background:var(--accent-numbness)}.emotion-fill.moralPain{background:var(--accent-moralPain)}.emotion-value{width:40px;text-align:right;color:var(--text-ghost)}.emotion-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(10,10,12,.95);z-index:3000;justify-content:center;align-items:center}.emotion-modal.active{display:flex}.emotion-modal-content{max-width:500px;padding:3rem;text-align:center}.session-detail-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(10,10,12,.95);z-index:3000;justify-content:center;align-items:center}.session-detail-modal.active{display:flex}.session-detail-modal-content{max-width:800px;width:90%;max-height:90vh;background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);padding:2rem;overflow-y:auto;position:relative}.session-detail-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(196,168,130,.2)}.session-detail-title{font-family:'Cormorant Garamond',serif;font-size:1.8rem;color:var(--accent-memory);letter-spacing:.1em}.session-detail-close-btn{background:transparent;border:1px solid var(--text-ghost);color:var(--text-muted);padding:.5rem 1rem;font-size:1.2rem;cursor:pointer;transition:all .3s;line-height:1}.session-detail-close-btn:hover{border-color:var(--accent-memory);color:var(--accent-memory)}.session-detail-body{text-align:left}.session-detail-info-item{margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid rgba(196,168,130,.1)}.session-detail-info-label{font-size:.75rem;color:var(--text-ghost);letter-spacing:.1em;margin-bottom:.5rem}.session-detail-info-value{font-size:1rem;color:var(--text-primary);line-height:1.6}.session-detail-scenes{margin-top:2rem}.session-detail-scene-item{background:var(--bg-deep);border:1px solid rgba(196,168,130,.1);padding:1.5rem;margin-bottom:1rem;border-radius:4px}.session-detail-scene-header{font-size:.85rem;color:var(--accent-memory);margin-bottom:.8rem}.session-detail-scene-text{font-size:.95rem;color:var(--text-primary);line-height:1.8;margin-bottom:.8rem;white-space:pre-wrap}.emotion-question{font-family:'Cormorant Garamond',serif;font-size:1.8rem;color:var(--text-primary);margin-bottom:2rem;line-height:1.5}.emotion-input-field{width:100%;background:transparent;border:none;border-bottom:1px solid var(--accent-memory);padding:1rem 0;font-family:'Noto Serif KR',serif;font-size:1.1rem;color:var(--text-primary);text-align:center;margin-bottom:2rem}.emotion-input-field:focus{outline:none}.emotion-submit{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:.8rem 2rem;font-family:'Cormorant Garamond',serif;font-size:1rem;cursor:pointer;transition:all .3s;pointer-events:auto;z-index:10}.emotion-submit:hover{background:var(--accent-memory);color:var(--bg-deep)}.fate-buttons{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.fate-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:1rem 2rem;font-family:'Cormorant Garamond',serif;font-size:1.1rem;cursor:pointer;transition:all .3s;pointer-events:auto;z-index:10;text-align:center}.fate-btn:hover{background:var(--accent-memory);color:var(--bg-deep)}.fate-descriptions{display:flex;flex-direction:column;gap:.5rem}.fate-desc{font-size:.85rem;color:var(--text-muted);text-align:center;font-style:italic}.end-screen{display:none;text-align:center;padding:4rem 2rem;min-height:100vh;justify-content:center;align-items:center;flex-direction:column;position:relative}.end-screen.active{display:flex}.end-strata-animation{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;height:400px;z-index:10;transition:all 1s ease-out}.end-strata-container{width:100%;height:100%;position:relative;overflow:hidden;border-radius:4px}.end-strata-layer{position:absolute;left:0;width:100%;transition:all 1s ease-out}.end-strata-layer-original{background:#333;bottom:0}.end-strata-layer-interpretation{background:#4A90D9;transition:opacity 0.5s ease-in}.end-strata-layer-interpretation.fear{background:#4A90D9}.end-strata-layer-interpretation.sadness{background:#5A7A9A}.end-strata-layer-interpretation.guilt{background:#8B7355}.end-strata-layer-interpretation.anger{background:#D94A4A}.end-strata-layer-interpretation.longing{background:#C4A882}.end-strata-layer-interpretation.isolation{background:#4A4A5A}.end-strata-layer-interpretation.numbness{background:#6A6A6A}.end-strata-layer-interpretation.moralPain{background:#9B59B6}.end-strata-layer-new{background:#4A90D9;transform:translateY(-100%);opacity:0;transition:transform 1s ease-out,opacity 1s ease-out}.end-strata-layer-new.fear{background:#4A90D9}.end-strata-layer-new.sadness{background:#5A7A9A}.end-strata-layer-new.guilt{background:#8B7355}.end-strata-layer-new.anger{background:#D94A4A}.end-strata-layer-new.longing{background:#C4A882}.end-strata-layer-new.isolation{background:#4A4A5A}.end-strata-layer-new.numbness{background:#6A6A6A}.end-strata-layer-new.moralPain{background:#9B59B6}.end-strata-message{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Cormorant Garamond',serif;font-size:1.5rem;color:var(--text-primary);opacity:0;transition:opacity 0.5s ease-in;white-space:nowrap;z-index:20;pointer-events:none;text-shadow:0 2px 10px rgba(0,0,0,0.8)}.end-strata-message.visible{opacity:1}.end-content{transition:opacity 1s ease-in;position:relative;z-index:5}.end-title{font-family:'Cormorant Garamond',serif;font-size:2.5rem;color:var(--accent-memory);margin-bottom:3rem}.comparison-grid{display:grid;grid-template-columns:1fr 1fr;gap:3rem;max-width:800px;margin:0 auto 3rem;text-align:left}@media(max-width:600px){.comparison-grid{grid-template-columns:1fr}}.comparison-col{padding:2rem;background:var(--bg-surface);border:1px solid rgba(196,168,130,.1)}.comparison-label{font-size:.75rem;color:var(--text-ghost);letter-spacing:.1em;margin-bottom:1rem}.comparison-choice{font-size:1.1rem;color:var(--text-primary);margin-bottom:.5rem}.comparison-reason{font-size:.9rem;color:var(--text-muted);font-style:italic}.final-alignment{font-family:'Cormorant Garamond',serif;font-size:1.5rem;color:var(--text-muted);margin-bottom:1rem}.final-message{font-size:.95rem;color:var(--text-ghost);max-width:550px;margin:0 auto 2rem;line-height:1.9}.true-ending-badge{display:none;padding:.5rem 1.5rem;border:1px solid var(--accent-connected);color:var(--accent-connected);font-size:.8rem;letter-spacing:.2em;margin-bottom:2rem}.true-ending-badge.active{display:inline-block}.normal-ending-badge{display:none;padding:.5rem 1.5rem;border:1px solid var(--accent-memory);color:var(--accent-memory);font-size:.8rem;letter-spacing:.2em;margin-bottom:2rem}.normal-ending-badge.active{display:inline-block}.end-subtitle{font-family:'Cormorant Garamond',serif;font-size:1.2rem;color:var(--text-muted);margin-top:-2rem;margin-bottom:2rem;font-style:italic;display:none}.end-buttons{display:flex;gap:1rem;justify-content:center}.end-btn{background:transparent;border:1px solid var(--text-ghost);color:var(--text-muted);padding:.8rem 2rem;font-family:'Cormorant Garamond',serif;font-size:1rem;cursor:pointer;pointer-events:auto;z-index:10}.npc-dialogue{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%);background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);padding:1.5rem 2rem;max-width:600px;font-size:.95rem;color:var(--text-muted);line-height:1.6;opacity:0;transition:opacity .5s;z-index:100;pointer-events:none}.npc-dialogue.visible{opacity:1}.npc-name{font-size:.75rem;color:var(--accent-memory);letter-spacing:.1em;margin-bottom:.5rem}.notification{position:fixed;top:2rem;right:2rem;background:var(--bg-surface);border:1px solid var(--accent-memory);padding:1rem 1.5rem;font-size:.85rem;color:var(--text-primary);opacity:0;transform:translateX(100%);transition:all .5s;z-index:3000}.notification.visible{opacity:1;transform:translateX(0)}.footer{background:var(--bg-deep);border-top:1px solid rgba(196,168,130,.1);padding:1.5rem 2rem;text-align:center;margin-top:auto;position:relative;z-index:1;display:none}.footer.visible{display:block}.footer-content{max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:.8rem;font-size:.75rem;color:var(--text-muted);line-height:1.6}.footer-line{display:flex;justify-content:center;align-items:center;gap:1rem;flex-wrap:wrap}.footer-divider{color:var(--text-ghost)}.footer-link{color:var(--text-muted);text-decoration:none;transition:color .3s}.footer-link:hover{color:var(--accent-memory)}.comparison-view{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg-deep);z-index:2500;display:flex;flex-direction:column;padding:2rem;overflow-y:auto}.comparison-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(196,168,130,.2)}.comparison-title{font-family:'Cormorant Garamond',serif;font-size:2rem;color:var(--accent-memory);letter-spacing:.1em}.comparison-scene-indicator{font-size:.9rem;color:var(--text-muted)}.comparison-swiper{flex:1;position:relative;overflow:hidden;margin-bottom:2rem}.comparison-scenes-container{display:flex;transition:transform 0.3s ease;height:100%}.comparison-scene-slide{min-width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem}.comparison-scene-text{font-size:1.3rem;line-height:2;color:var(--text-primary);text-align:center;margin-bottom:3rem;max-width:800px}.comparison-waves-container{display:flex;flex-direction:column;gap:3rem;width:100%;max-width:900px}.comparison-wave-item{position:relative;background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);border-radius:8px;padding:2rem}.comparison-wave-label{font-size:.85rem;color:var(--text-muted);letter-spacing:.1em;margin-bottom:1rem;text-align:center}.comparison-wave-label.original{color:var(--accent-memory)}.comparison-wave-label.user{color:var(--accent-interpretation)}.comparison-wave-canvas-container{width:100%;height:200px;background:var(--bg-deep);border-radius:4px;position:relative;cursor:pointer}.comparison-wave-canvas{width:100%;height:100%}.comparison-tooltip{position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:var(--bg-surface);border:1px solid var(--accent-memory);padding:.8rem 1.2rem;font-size:.85rem;color:var(--text-primary);white-space:normal;opacity:0;pointer-events:none;transition:opacity .3s;margin-bottom:.5rem;z-index:100;max-width:300px;text-align:center;border-radius:4px}.comparison-wave-canvas-container:hover .comparison-tooltip{opacity:1}.comparison-controls{display:flex;justify-content:center;align-items:center;gap:2rem;margin-bottom:2rem}.comparison-nav-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:.6rem 1.5rem;font-family:'Cormorant Garamond',serif;font-size:1rem;cursor:pointer;transition:all .3s;pointer-events:auto}.comparison-nav-btn:hover{background:var(--accent-memory);color:var(--bg-deep)}.comparison-nav-btn:disabled{opacity:.3;cursor:not-allowed}.comparison-dots{display:flex;gap:.5rem}.comparison-dot{width:8px;height:8px;border-radius:50%;background:var(--text-ghost);cursor:pointer;transition:all .3s}.comparison-dot.active{background:var(--accent-memory);box-shadow:0 0 10px var(--accent-memory)}.comparison-alignment-section{text-align:center;padding:2rem;background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);border-radius:8px;max-width:600px;margin:0 auto}.comparison-alignment-label{font-size:.85rem;color:var(--text-muted);letter-spacing:.1em;margin-bottom:1rem}.comparison-alignment-value{font-family:'Cormorant Garamond',serif;font-size:2.5rem;color:var(--accent-memory);margin-bottom:1.5rem}.comparison-alignment-bar{height:6px;background:var(--bg-deep);border-radius:3px;overflow:hidden}.comparison-alignment-fill{height:100%;background:linear-gradient(90deg,var(--accent-memory),var(--accent-connected));border-radius:3px;transition:width .5s}@media(max-width:768px){.comparison-view{padding:1rem}.comparison-header{flex-direction:column;gap:1rem;align-items:flex-start}.comparison-waves-container{gap:2rem}.comparison-wave-item{padding:1.5rem}}
.live-content.narrator-mode{display:flex;flex-direction:column;gap:1.5rem;max-width:900px;min-width:900px;margin:0 auto;width:100%}.live-content.narrator-mode .alignment-section,.live-content.narrator-mode .generated-section,.live-content.narrator-mode .interpretation-trace-section,.live-content.narrator-mode .voice-input-section,.live-content.narrator-mode .text-input-container-live,.live-content.narrator-mode .chat-input-wrapper{width:100%;max-width:100%;min-width:100%;box-sizing:border-box}.live-content.narrator-mode .chat-messages{width:100%;min-width:100%}.live-content.narrator-mode .chat-message{max-width:85%}.live-content.narrator-mode .confirm-buttons{width:fit-content}@media(max-width:950px){.live-content.narrator-mode{min-width:auto;max-width:100%}}.narrator-wave-section{width:100%;margin-bottom:0}.live-content.narrator-mode>.interpretation-trace{width:100%;margin:1rem 0;padding:1.2rem 1.5rem;background:rgba(123,143,168,.08);border-left:3px solid var(--accent-interpretation)}.wave-container-wide{width:100%;height:120px;background:var(--bg-surface);border:1px solid rgba(196,168,130,.1);position:relative;overflow:hidden}.ai-chat-section{width:100%;margin:0 auto;background:var(--bg-surface);border:1px solid rgba(196,168,130,.15);padding:1.5rem;position:relative}.ai-chat-header{display:flex;justify-content:flex-end;align-items:center;margin-bottom:1rem;padding-bottom:.8rem;border-bottom:1px solid rgba(196,168,130,.1)}.voice-toggle-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:.4rem 1rem;font-family:'Cormorant Garamond',serif;font-size:.8rem;cursor:pointer;transition:all .3s}.voice-toggle-btn:hover,.voice-toggle-btn.active{background:var(--accent-memory);color:var(--bg-deep)}.ai-chat-messages{min-height:150px;max-height:300px;overflow-y:auto;padding:.5rem 0}.ai-message{background:rgba(196,168,130,.08);border-left:2px solid var(--accent-memory);padding:1rem;margin-bottom:.8rem;font-size:.95rem;color:var(--text-primary);line-height:1.7}.user-message{background:rgba(196,168,130,.08);border-left:2px solid var(--accent-memory);padding:1rem;margin-bottom:.8rem;font-size:.95rem;color:var(--text-primary);line-height:1.7;text-align:right;border-left:none;border-right:2px solid var(--accent-memory)}.unified-input-section{width:100%;margin:0 auto}.input-phase-indicator{font-family:'Cormorant Garamond',serif;font-size:.85rem;color:var(--accent-memory);letter-spacing:.1em;margin-bottom:.8rem;text-align:center}.unified-input{width:100%;min-height:100px;background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);padding:1.2rem;font-family:'Noto Serif KR',serif;font-size:1rem;color:var(--text-primary);line-height:1.8;resize:vertical}.unified-input:focus{outline:none;border-color:var(--accent-memory)}.unified-input::placeholder{color:var(--text-ghost)}.emotion-select-section{margin-top:1rem;padding:1rem;background:rgba(196,168,130,.05);border:1px solid rgba(196,168,130,.1)}.unified-submit-btn{margin-top:1rem;width:100%;background:var(--accent-memory);border:none;color:var(--bg-deep);padding:1rem;font-family:'Cormorant Garamond',serif;font-size:1.1rem;cursor:pointer;transition:all .3s}.unified-submit-btn:hover{background:var(--accent-memory)}.narrator-panel.active{display:flex;flex-direction:column;width:100%}.voice-wave-container{position:relative;width:100%;height:200px;background:var(--bg-surface);border:1px solid rgba(196,168,130,.15);display:flex;align-items:center;justify-content:center}.voice-wave-canvas{width:100%;height:100%}.text-mode-btn{position:absolute;top:1rem;right:1rem;background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:.5rem 1rem;font-family:'Cormorant Garamond',serif;font-size:.85rem;cursor:pointer;transition:all .3s}.text-mode-btn:hover{background:var(--accent-memory);color:var(--bg-deep)}.text-input-container{width:100%;background:var(--bg-surface);border:1px solid rgba(196,168,130,.15);padding:1.5rem}.text-input-header{display:flex;justify-content:flex-end;margin-bottom:1rem}.voice-mode-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:.5rem 1rem;font-family:'Cormorant Garamond',serif;font-size:.85rem;cursor:pointer;transition:all .3s}.voice-mode-btn:hover{background:var(--accent-memory);color:var(--bg-deep)}.scene-text-input{width:100%;min-height:120px;background:var(--bg-deep);border:1px solid rgba(196,168,130,.2);padding:1.2rem;font-family:'Noto Serif KR',serif;font-size:1rem;color:var(--text-primary);line-height:1.8;resize:vertical}.scene-text-input:focus{outline:none;border-color:var(--accent-memory)}.scene-text-input::placeholder{color:var(--text-ghost)}.scene-submit-btn{margin-top:1rem;width:100%;background:var(--accent-memory);border:none;color:var(--bg-deep);padding:1rem;font-family:'Cormorant Garamond',serif;font-size:1.1rem;cursor:pointer;transition:all .3s}.scene-submit-btn:hover{background:var(--accent-memory)}.voice-start-prompt{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1.5rem;padding:3rem;background:var(--bg-surface);border:1px solid rgba(196,168,130,.15);min-height:200px}.start-voice-btn,.start-text-btn{background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);padding:1rem 2rem;font-family:'Cormorant Garamond',serif;font-size:1.1rem;cursor:pointer;transition:all .3s;min-width:200px}.start-voice-btn:hover,.start-text-btn:hover{background:var(--accent-memory);color:var(--bg-deep)}.or-divider{color:var(--text-ghost);font-size:.9rem}.void-scene{opacity:0.5;font-style:italic}.void-scene::before{content:'[기억의 공백] ';color:var(--accent-memory)}.void-reason{opacity:0.7}.void-reason::after{content:' (이유 없음)';color:var(--text-muted);font-size:0.9em}.exp-scene-display{background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);border-radius:8px;padding:2rem;margin-bottom:1.5rem;min-height:150px}.exp-scene-text{font-size:1.2rem;line-height:2;color:var(--text-primary);text-align:center}.loading-dots{display:inline-block;margin-left:2px}.loading-dots span{opacity:0;animation:loadingDot 1.4s infinite}.loading-dots span:nth-child(1){animation-delay:0s}.loading-dots span:nth-child(2){animation-delay:0.2s}.loading-dots span:nth-child(3){animation-delay:0.4s}@keyframes loadingDot{0%,80%,100%{opacity:0}40%{opacity:1}}.exp-emotion-display{background:rgba(123,143,168,.1);border:1px solid rgba(123,143,168,.2);border-radius:8px;padding:1.5rem;margin-bottom:1.5rem}.exp-emotion-text{font-size:1.1rem;line-height:1.8;color:var(--accent-interpretation);text-align:center;font-style:italic}.narrator-panel,.experiencer-panel{display:none}.narrator-panel.active,.experiencer-panel.active{display:flex;flex-direction:column;width:100%;gap:1.5rem}.live-content{display:flex;flex-direction:column;gap:1.5rem;max-width:900px;min-width:900px;margin:0 auto;width:100%}@media(max-width:950px){.live-content{min-width:auto;max-width:100%}}.system-message{position:fixed;bottom:4rem;left:50%;transform:translateX(-50%);background:var(--bg-surface);border:1px solid var(--accent-memory);padding:.8rem 1.5rem;font-size:.75rem;color:var(--accent-memory);letter-spacing:.15em;opacity:0;transition:opacity .5s;z-index:2000;pointer-events:none;font-family:'Cormorant Garamond',serif}.system-message.visible{opacity:1}

.archive-search-row{display:flex;gap:12px;align-items:center;width:100%;max-width:600px;margin:0 auto}.archive-search{flex:1;width:100%}

#memory-registration-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:#0a0a0c;z-index:1000;display:none;flex-direction:column}#memory-registration-screen:not(.hidden){display:flex}.registration-progress{padding:20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(212,175,55,.2)}.scene-count{color:#d4af37;font-family:'Cormorant Garamond',serif;font-size:14px;letter-spacing:.1em}.finish-registration-btn,.close-registration-btn{padding:10px 20px;background:transparent;border:1px solid rgba(212,175,55,.4);color:#d4af37;font-family:'Cormorant Garamond',serif;font-size:14px;cursor:pointer;transition:all .3s}.finish-registration-btn:hover,.close-registration-btn:hover{background:rgba(212,175,55,.1);border-color:rgba(212,175,55,.6)}.finish-registration-btn.hidden{display:none}.registration-phase{flex:1;display:flex;flex-direction:column;padding:20px;max-width:800px;margin:0 auto;width:100%}.registration-phase.hidden{display:none}.registration-wave-container{width:100%;height:200px;background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);border-radius:4px;position:relative;overflow:hidden;margin-bottom:20px}.registration-wave-canvas{width:100%;height:100%}.registration-npc-dialogue{min-height:100px;padding:20px;background:var(--bg-surface);border:1px solid rgba(196,168,130,.2);border-radius:8px;margin-bottom:20px;color:var(--text-primary);font-size:1rem;line-height:1.8}.registration-user-input-area{display:flex;flex-direction:column;gap:12px}.memory-input{width:100%;min-height:120px;background:var(--bg-deep);border:1px solid rgba(196,168,130,.2);padding:15px;font-family:'Noto Serif KR',serif;font-size:1rem;color:var(--text-primary);line-height:1.8;resize:vertical}.memory-input:focus{outline:none;border-color:var(--accent-memory)}.memory-input::placeholder{color:var(--text-ghost)}.registration-input-actions{display:flex;gap:12px;justify-content:flex-end}.voice-input-btn,.send-btn{padding:12px 24px;background:transparent;border:1px solid var(--accent-memory);color:var(--accent-memory);font-family:'Cormorant Garamond',serif;font-size:14px;cursor:pointer;transition:all .3s}.voice-input-btn:hover,.send-btn:hover{background:var(--accent-memory);color:var(--bg-deep)}#registration-review{max-width:600px;overflow-y:auto}.review-title{font-family:'Cormorant Garamond',serif;font-size:1.8rem;color:var(--accent-memory);margin-bottom:30px;text-align:center}.review-section{margin-bottom:25px}.review-section label{display:block;color:#d4af37;margin-bottom:8px;font-size:14px;font-family:'Cormorant Garamond',serif;letter-spacing:.1em}.review-text,.review-reason{width:100%;min-height:100px;padding:12px;background:rgba(255,255,255,.05);border:1px solid rgba(212,175,55,.3);color:#fff;font-family:'Noto Serif KR',serif;font-size:1rem;line-height:1.6;resize:vertical}.review-text:focus,.review-reason:focus{outline:none;border-color:rgba(212,175,55,.6)}.review-choices{display:flex;flex-direction:column;gap:10px;margin-bottom:10px}.choice-input{width:100%;padding:12px;background:rgba(255,255,255,.05);border:1px solid rgba(212,175,55,.3);color:#fff;font-family:'Noto Serif KR',serif;font-size:1rem}.choice-input:focus{outline:none;border-color:rgba(212,175,55,.6)}.add-choice-btn{padding:8px 16px;background:transparent;border:1px solid rgba(212,175,55,.3);color:#d4af37;font-size:12px;cursor:pointer;transition:all .3s}.add-choice-btn:hover{background:rgba(212,175,55,.1)}.review-emotion{display:flex;flex-direction:column;gap:15px}.emotion-slider{display:flex;align-items:center;gap:12px}.emotion-slider span:first-child{width:80px;color:var(--text-muted);font-size:14px}.emotion-slider input[type=range]{flex:1;height:6px;background:var(--bg-deep);border-radius:3px;outline:none}.emotion-slider input[type=range]::-webkit-slider-thumb{appearance:none;width:16px;height:16px;background:#d4af37;border-radius:50%;cursor:pointer}.emotion-value{width:50px;text-align:right;color:var(--text-primary);font-size:14px}.review-reason-vector{display:flex;flex-direction:column;gap:12px}.review-attribution,.review-core-fear{width:100%;padding:12px;background:rgba(255,255,255,.05);border:1px solid rgba(212,175,55,.3);color:#fff;font-family:'Noto Serif KR',serif;font-size:1rem}.review-attribution:focus,.review-core-fear:focus{outline:none;border-color:rgba(212,175,55,.6)}.void-checkbox-label{display:flex;align-items:center;gap:8px;color:var(--text-primary);cursor:pointer}.void-checkbox-label input[type=checkbox]{width:18px;height:18px;cursor:pointer}.review-actions{display:flex;gap:12px;margin-top:30px}.review-back-btn,.review-confirm-btn{flex:1;padding:15px;background:transparent;border:1px solid #d4af37;color:#d4af37;font-family:'Cormorant Garamond',serif;font-size:14px;cursor:pointer;transition:all .3s}.review-confirm-btn{background:rgba(212,175,55,.2)}.review-back-btn:hover,.review-confirm-btn:hover{background:rgba(212,175,55,.3);border-color:rgba(212,175,55,.6)}

.hidden{display:none!important}

/* ============================================ PHASE 2: ANIMATION & IMMERSION (추�?) ============================================ */
/* 1. 글리치 ?�과 (주�????�각?? */
.glitch-anim {
    animation: glitch-shake 0.3s cubic-bezier(.25, .46, .45, .94) both infinite;
    border-color: rgba(255, 0, 0, 0.5) !important;
    color: rgba(255, 100, 100, 0.8);
}
@keyframes glitch-shake {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
}
/* 2. ?�?�핑 ?�커??(?�도 ?�현) */
.confession-content {
    transition: filter 0.5s ease, transform 0.5s ease;
}
/* ?�력 중일 ?�는 배경?????�둡�?*/
.focus-mode-active #confession-overlay {
    background: rgba(0, 0, 0, 0.95);
}
/* 3. 비네??(Vignette) - 주�?부 ?�전 ?�과 */
.vignette-layer {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: radial-gradient(circle, transparent 40%, #000 90%);
    pointer-events: none;
    z-index: 1;
}
/* 4. ?�운??�??�릭 ???�동 ?�과 */
@keyframes pulse-gold {
    0% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(212, 175, 55, 0); }
    100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); }
}
.sensory-chip {
    background: transparent;
    border: 1px solid rgba(212, 175, 55, 0.4);
    color: #d4af37;
    padding: 12px 24px;
    font-family: 'Noto Serif KR', serif;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s;
    margin: 8px;
    letter-spacing: 0.05em;
}
.sensory-chip:hover {
    background: rgba(212, 175, 55, 0.1);
    border-color: rgba(212, 175, 55, 0.6);
    transform: translateY(-2px);
}
.sensory-chip.selected {
    background: rgba(212, 175, 55, 0.2);
    border-color: #d4af37;
    animation: pulse-gold 1s infinite;
}
.sensory-chips {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    margin-top: 40px;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}

/* ============================================ The Confession Overlay ============================================ */
#confession-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(10, 10, 12, 0.98);
    z-index: 2000;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}
#confession-overlay.hidden {
    display: none;
}
.confession-progress {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 30px;
    border-bottom: 1px solid rgba(212, 175, 55, 0.2);
    z-index: 10;
}
.step-indicator {
    font-family: 'Cormorant Garamond', serif;
    font-size: 14px;
    color: #d4af37;
    letter-spacing: 0.1em;
}
.confession-exit-btn {
    background: transparent;
    border: 1px solid rgba(212, 175, 55, 0.4);
    color: #d4af37;
    padding: 8px 16px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s;
}
.confession-exit-btn:hover {
    background: rgba(212, 175, 55, 0.1);
    border-color: rgba(212, 175, 55, 0.6);
}
.confession-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 40px;
    overflow-y: auto;
    position: relative;
    z-index: 2;
}
.confession-step {
    max-width: 800px;
    width: 100%;
    text-align: center;
}
.confession-step.hidden {
    display: none;
}
.confession-text {
    font-family: 'Noto Serif KR', serif;
    font-size: 1.5rem;
    line-height: 2;
    color: var(--text-primary);
    margin-bottom: 40px;
    min-height: 60px;
}
.confession-enter-btn {
    background: transparent;
    border: 1px solid #d4af37;
    color: #d4af37;
    padding: 15px 40px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s;
    letter-spacing: 0.1em;
}
.confession-enter-btn:hover {
    background: rgba(212, 175, 55, 0.1);
    border-color: rgba(212, 175, 55, 0.8);
}
.confession-enter-btn.hidden {
    display: none;
}
body.confession-active {
    overflow: hidden;
}
body.confession-active::before {
    filter: blur(5px);
    opacity: 0.3;
}

/* 결과 ?�면 ?��???*/
.step-result {
    max-width: 800px;
    width: 100%;
    text-align: center;
}
.step-result h3 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 2rem;
    color: #d4af37;
    margin-bottom: 30px;
    letter-spacing: 0.1em;
}
.result-preview {
    min-height: 200px;
    padding: 30px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(212, 175, 55, 0.2);
    border-radius: 8px;
    margin-bottom: 30px;
    text-align: left;
}
.result-preview p {
    font-family: 'Noto Serif KR', serif;
    font-size: 1.1rem;
    line-height: 2;
    color: var(--text-primary);
}

/* 스트리밍 텍스트 스타일 */
.streaming-text {
    font-family: 'Cormorant Garamond', serif;
    line-height: 1.8;
    white-space: pre-wrap;
    color: rgba(255, 255, 255, 0.85);
}

.streaming-text::after {
    content: '';
    display: inline-block;
    width: 2px;
    height: 1.2em;
    background-color: #d4af37;
    margin-left: 2px;
    vertical-align: middle;
    animation: blink 1s step-end infinite;
}

.streaming-text.done::after {
    display: none;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

/* 안전 팝업 */
.safety-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    animation: fadeIn 0.5s ease;
}

.safety-popup-content {
    background: #1a1a1a;
    border: 1px solid rgba(212, 175, 55, 0.3);
    padding: 40px;
    max-width: 400px;
    text-align: center;
}

.safety-message {
    color: rgba(255, 255, 255, 0.8);
    font-family: 'Cormorant Garamond', serif;
    font-size: 18px;
    margin-bottom: 30px;
    line-height: 1.6;
}

.safety-resources {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 30px;
}

.safety-resource {
    display: block;
    padding: 15px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-decoration: none;
    transition: all 0.3s ease;
}

.safety-resource:hover {
    background: rgba(212, 175, 55, 0.1);
    border-color: rgba(212, 175, 55, 0.3);
}

.resource-name {
    display: block;
    color: #d4af37;
    font-size: 16px;
    margin-bottom: 5px;
}

.resource-number {
    display: block;
    color: #fff;
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 5px;
}

.resource-desc {
    display: block;
    color: rgba(255, 255, 255, 0.5);
    font-size: 13px;
}

.safety-close-btn {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: rgba(255, 255, 255, 0.7);
    padding: 10px 30px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Cormorant Garamond', serif;
    font-size: 14px;
}

.safety-close-btn:hover {
    border-color: rgba(255, 255, 255, 0.5);
    color: #fff;
}

/* 트루엔딩 쪽지 시스템 */
.note-section {
    margin: 30px 0;
    padding: 20px;
    background: rgba(212, 175, 55, 0.05);
    border: 1px solid rgba(212, 175, 55, 0.2);
}

.author-note-box {
    margin-bottom: 30px;
    padding: 20px;
    background: rgba(212, 175, 55, 0.1);
    border-left: 3px solid #d4af37;
}

.note-label {
    color: rgba(212, 175, 55, 0.7);
    font-size: 12px;
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.note-content {
    color: rgba(255, 255, 255, 0.9);
    font-family: 'Cormorant Garamond', serif;
    font-size: 18px;
    line-height: 1.8;
    font-style: italic;
}

.reply-section {
    text-align: center;
}

.reply-label {
    color: rgba(255, 255, 255, 0.6);
    font-size: 14px;
    margin-bottom: 15px;
}

.reply-input {
    width: 100%;
    max-width: 400px;
    height: 100px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #fff;
    font-family: 'Cormorant Garamond', serif;
    font-size: 16px;
    padding: 15px;
    resize: none;
    outline: none;
}

.reply-input:focus {
    border-color: rgba(212, 175, 55, 0.5);
}

.reply-counter {
    color: rgba(255, 255, 255, 0.4);
    font-size: 12px;
    text-align: right;
    margin-top: 5px;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
}

.reply-buttons {
    margin-top: 20px;
    display: flex;
    justify-content: center;
    gap: 15px;
}

.reply-submit-btn, .reply-skip-btn {
    padding: 12px 30px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.reply-submit-btn {
    background: rgba(212, 175, 55, 0.2);
    border: 1px solid #d4af37;
    color: #d4af37;
}

.reply-submit-btn:hover {
    background: rgba(212, 175, 55, 0.3);
}

.reply-skip-btn {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: rgba(255, 255, 255, 0.5);
}

.reply-skip-btn:hover {
    border-color: rgba(255, 255, 255, 0.5);
    color: #fff;
}

.note-sent-message {
    text-align: center;
    padding: 20px;
    color: rgba(212, 175, 55, 0.8);
    font-family: 'Cormorant Garamond', serif;
    font-size: 16px;
}

.note-card {
    transition: all 0.3s ease;
}

.note-card:hover {
    border-color: rgba(212, 175, 55, 0.3) !important;
    transform: translateX(4px);
}

.unread-badge {
    display: inline-block;
    padding: 0.2rem 0.5rem;
    background: rgba(212, 175, 55, 0.2);
    border: 1px solid rgba(212, 175, 55, 0.4);
    color: #d4af37;
    font-size: 0.7rem;
    letter-spacing: 0.1em;
    margin-left: 0.5rem;
}
.confession-complete-btn {
    background: transparent;
    border: 1px solid #d4af37;
    color: #d4af37;
    padding: 15px 40px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s;
    letter-spacing: 0.1em;
}
.confession-complete-btn:hover {
    background: rgba(212, 175, 55, 0.1);
    border-color: rgba(212, 175, 55, 0.8);
}

/* 원본 보기 버튼 */
.original-view-btn {
    background: transparent;
    border: 1px solid #d4af37;
    color: #d4af37;
    padding: 12px 24px;
    margin-top: 20px;
    cursor: pointer;
    font-family: 'Cormorant Garamond', serif;
    font-size: 14px;
    letter-spacing: 0.1em;
    transition: all 0.3s;
}

.original-view-btn:hover {
    background: #d4af37;
    color: #0a0a0a;
}

/* 원본 열람 모달 */
.original-memory-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    overflow-y: auto;
}

.original-memory-content {
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    padding: 40px;
    color: #e0e0e0;
    background: var(--bg-surface);
    border: 1px solid rgba(212, 175, 55, 0.2);
}

.original-memory-content h2 {
    color: #d4af37;
    margin-bottom: 10px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 24px;
    letter-spacing: 0.1em;
}

.original-note {
    color: #888;
    font-size: 14px;
    margin-bottom: 30px;
    font-style: italic;
}

.original-scenes {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.original-scene {
    display: flex;
    gap: 15px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.03);
    border-left: 2px solid #d4af37;
}

.scene-number {
    color: #d4af37;
    font-size: 12px;
    min-width: 20px;
    font-family: 'Cormorant Garamond', serif;
}

.scene-text {
    color: #e0e0e0;
    line-height: 1.6;
    font-size: 1rem;
}

.close-original-btn {
    margin-top: 30px;
    background: transparent;
    border: 1px solid #666;
    color: #888;
    padding: 10px 20px;
    cursor: pointer;
    font-family: 'Cormorant Garamond', serif;
    font-size: 14px;
    transition: all 0.3s;
}

.close-original-btn:hover {
    border-color: #d4af37;
    color: #d4af37;
}

/* Confession Hub */
.confession-hub {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 20px;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--bg-deep);
    z-index: 1900;
    justify-content: center;
}

.confession-hub.hidden {
    display: none;
}

.hub-subtitle {
    color: #888;
    margin-bottom: 40px;
    font-size: 0.9rem;
    text-align: center;
}

.confession-modes {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 40px;
}

.confession-hub .mode-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid #333;
    padding: 30px;
    width: 200px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
}

.confession-hub .mode-card:hover {
    border-color: #d4af37;
    background: rgba(212, 175, 55, 0.05);
}

.confession-hub .mode-card.mode-locked {
    opacity: 0.5;
    cursor: not-allowed;
}

.confession-hub .mode-card.mode-locked:hover {
    border-color: #333;
    background: rgba(255, 255, 255, 0.03);
}

.confession-hub .mode-icon {
    font-size: 40px;
    margin-bottom: 15px;
}

.confession-hub .mode-card h2 {
    color: #d4af37;
    font-size: 18px;
    margin-bottom: 10px;
    font-family: 'Cormorant Garamond', serif;
}

.confession-hub .mode-card p {
    color: #e0e0e0;
    font-size: 14px;
    margin-bottom: 5px;
}

.confession-hub .mode-card small {
    color: #666;
    font-size: 12px;
}

/* ============================================ Memory Status Badge ============================================ */
/* 상태 배지 기본 스타일 */
.status-badge {
  font-size: 0.75rem;
  padding: 4px 8px;
  border-radius: 2px;
  margin-bottom: 10px;
  display: inline-block;
  font-weight: 500;
  letter-spacing: 0.05em;
}

/* Fetus 상태: 어두운 배경에서 은은하게 빛나는 금색 */
.status-badge.Fetus {
  background: rgba(212, 175, 55, 0.15);
  color: #d4af37;
  border: 1px solid rgba(212, 175, 55, 0.4);
  font-style: italic;
}

/* 숨 쉬는 애니메이션 */
@keyframes pulse-gold {
  0% { 
    box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.4); 
    border-color: rgba(212, 175, 55, 0.5); 
  }
  50% { 
    box-shadow: 0 0 10px 0 rgba(212, 175, 55, 0.1); 
    border-color: rgba(212, 175, 55, 0.2); 
  }
  100% { 
    box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.4); 
    border-color: rgba(212, 175, 55, 0.5); 
  }
}

/* ============================================ 3D Carousel Navigation ============================================ */
.carousel-3d-container {
  position: relative;
  width: 100%;
  max-width: 600px;
  height: 80px;
  margin: 2rem auto 0;
  perspective: 1500px;
  perspective-origin: center center;
  opacity: 0;
  animation: fadeIn 2s ease-out 1s forwards;
}

.carousel-3d-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  justify-content: center;
}

.carousel-item {
  position: absolute;
  width: 140px;
  height: 60px;
  left: 50%;
  top: 50%;
  margin-left: -70px;
  margin-top: -30px;
  transform-style: preserve-3d;
  cursor: pointer;
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: auto;
}

.carousel-item-content {
  width: 100%;
  height: 100%;
  background: linear-gradient(145deg, rgba(18, 18, 26, 0.6), rgba(10, 10, 12, 0.8));
  border: 1px solid rgba(196, 168, 130, 0.2);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(10px);
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.carousel-item-content::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(196, 168, 130, 0.05) 0%, transparent 50%);
  opacity: 0;
  transition: opacity 0.8s ease;
}

.carousel-item.active .carousel-item-content::before {
  opacity: 1;
}

.carousel-item-label {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.3rem;
  color: var(--accent-memory);
  letter-spacing: 0.15em;
  text-align: center;
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  z-index: 1;
  white-space: nowrap;
}

/* Active (Center) Item */
.carousel-item.active {
  transform: translateZ(0) scale(1);
  z-index: 10;
}

.carousel-item.active .carousel-item-content {
  border-color: rgba(196, 168, 130, 0.6);
  box-shadow: 0 20px 60px rgba(196, 168, 130, 0.3),
              0 0 40px rgba(196, 168, 130, 0.1);
  background: linear-gradient(145deg, rgba(18, 18, 26, 0.9), rgba(10, 10, 12, 0.95));
}

.carousel-item.active .carousel-item-label {
  font-size: 1.4rem;
  color: var(--accent-memory);
  text-shadow: 0 0 15px rgba(196, 168, 130, 0.4);
}

/* Left Side Items (Peeking) */
.carousel-item.prev-1 {
  transform: translateX(-180px) translateZ(-200px) rotateY(25deg) scale(0.7);
  opacity: 0.55;
  z-index: 3;
  pointer-events: auto;
}

.carousel-item.prev-1 .carousel-item-content {
  border-color: rgba(196, 168, 130, 0.15);
  filter: blur(1px);
}

.carousel-item.prev-1 .carousel-item-label {
  font-size: 1rem;
  color: rgba(196, 168, 130, 0.6);
}

.carousel-item.prev-2 {
  transform: translateX(-280px) translateZ(-350px) rotateY(35deg) scale(0.5);
  opacity: 0.2;
  z-index: 2;
  pointer-events: none;
}

.carousel-item.prev-2 .carousel-item-content {
  border-color: rgba(196, 168, 130, 0.05);
  filter: blur(4px);
}

.carousel-item.prev-2 .carousel-item-label {
  font-size: 0.9rem;
  color: rgba(196, 168, 130, 0.3);
}

/* Right Side Items (Peeking) */
.carousel-item.next-1 {
  transform: translateX(180px) translateZ(-200px) rotateY(-25deg) scale(0.7);
  opacity: 0.55;
  z-index: 3;
  pointer-events: auto;
}

.carousel-item.next-1 .carousel-item-content {
  border-color: rgba(196, 168, 130, 0.15);
  filter: blur(1px);
}

.carousel-item.next-1 .carousel-item-label {
  font-size: 1rem;
  color: rgba(196, 168, 130, 0.6);
}

.carousel-item.next-2 {
  transform: translateX(280px) translateZ(-350px) rotateY(-35deg) scale(0.5);
  opacity: 0.2;
  z-index: 2;
  pointer-events: none;
}

.carousel-item.next-2 .carousel-item-content {
  border-color: rgba(196, 168, 130, 0.05);
  filter: blur(4px);
}

.carousel-item.next-2 .carousel-item-label {
  font-size: 0.9rem;
  color: rgba(196, 168, 130, 0.3);
}

/* Hidden Items */
.carousel-item.hidden {
  opacity: 0;
  pointer-events: none;
  transform: translateX(0) translateZ(-800px) scale(0.3);
}

/* Navigation Arrows */
.carousel-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 40px;
  height: 40px;
  background: transparent;
  border: none;
  border-radius: 0;
  color: var(--accent-memory);
  font-size: 1.5rem;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 20;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
  box-shadow: 0 0 15px rgba(196, 168, 130, 0.15);
}

.carousel-nav:hover {
  transform: translateY(-50%) scale(1.1);
  box-shadow: 0 0 25px rgba(196, 168, 130, 0.25);
  color: var(--accent-memory);
}

.carousel-nav:active {
  transform: translateY(-50%) scale(0.95);
}

.carousel-nav-prev {
  left: -60px;
}

.carousel-nav-next {
  right: -60px;
}

.carousel-nav-icon {
  line-height: 1;
  font-weight: 300;
  margin-top: -4px;
}

.carousel-nav:disabled {
  opacity: 0.3;
  cursor: not-allowed;
  pointer-events: none;
}

/* Hover Effect on Active Item */
.carousel-item.active:hover .carousel-item-content {
  border-color: rgba(196, 168, 130, 0.8);
  box-shadow: 0 25px 70px rgba(196, 168, 130, 0.4),
              0 0 50px rgba(196, 168, 130, 0.15);
  transform: translateY(-5px);
}

.carousel-item.active:hover .carousel-item-label {
  text-shadow: 0 0 20px rgba(196, 168, 130, 0.6);
}

/* Responsive */
@media (max-width: 1200px) {
  .carousel-nav-prev {
    left: 10px;
  }
  .carousel-nav-next {
    right: 10px;
  }
}

@media (max-width: 768px) {
  .carousel-3d-container {
    height: 70px;
    margin-top: 1.5rem;
    max-width: 500px;
  }
  
  .carousel-item {
    width: 120px;
    height: 50px;
    margin-left: -60px;
    margin-top: -25px;
  }
  
  .carousel-item.active .carousel-item-label {
    font-size: 1.2rem;
  }
  
  .carousel-item.prev-1 {
    transform: translateX(-150px) translateZ(-200px) rotateY(25deg) scale(0.7);
    opacity: 0.55;
  }
  
  .carousel-item.prev-1 .carousel-item-content {
    filter: blur(1px);
  }
  
  .carousel-item.next-1 {
    transform: translateX(150px) translateZ(-200px) rotateY(-25deg) scale(0.7);
    opacity: 0.55;
  }
  
  .carousel-item.next-1 .carousel-item-content {
    filter: blur(1px);
  }
  
  .carousel-nav {
    width: 35px;
    height: 35px;
    font-size: 1.2rem;
    background: transparent;
    border: none;
    box-shadow: 0 0 12px rgba(196, 168, 130, 0.15);
  }
  
  .carousel-nav:hover {
    box-shadow: 0 0 20px rgba(196, 168, 130, 0.25);
  }
  
  .carousel-nav-prev {
    left: 5px;
  }
  
  .carousel-nav-next {
    right: 5px;
  }
}
